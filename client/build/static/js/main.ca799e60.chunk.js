(this.webpackJsonplappy=this.webpackJsonplappy||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/logo.dbffe6a1.jpg"},135:function(e,t,a){e.exports=a.p+"static/media/logo2.33a05a05.jpg"},225:function(e,t,a){e.exports=a.p+"static/media/hero2.79cabd8e.jpg"},232:function(e,t,a){e.exports=a.p+"static/media/hero3.587b0c40.png"},274:function(e,t,a){e.exports=a(395)},279:function(e,t,a){},395:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),i=a.n(o),l=(a(279),a(14)),c=a(15),s=a(17),u=a(16),p=a(18),d=a(12),m=a(27),h=a(86),g=a(440),f=a(92),b=a(192),E=a(223),O=a(194),y=a(129),v=a.n(y),C=a(225),j=a.n(C),w=function(e){return{root:{flexGrow:1,position:"relative",overflow:"hidden",display:"flex",height:"100%",minHeight:"100vh",backgroundImage:"url("+j.a+")",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},container:Object(d.a)({marginTop:"5%",width:"auto",display:"block",marginRight:e.spacing(3),marginLeft:e.spacing(3)},e.breakpoints.up(400+e.spacing(6)),{width:400,marginLeft:"auto",marginRight:"auto"}),green:{color:"#388e3c"},form:{width:"100%",marginTop:e.spacing()},noDeco:{textDecoration:"none",width:"100%"},submit:{marginTop:e.spacing(3)},iconBack:{minHeight:"30px",width:"auto"},paper:{position:"relative",marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px")},backBtn:{position:"absolute",left:20,color:"#388e3c"},avatar:{margin:e.spacing(),backgroundColor:e.palette.secondary.main},heroLogo:{height:200,width:"auto",borderRadius:20}}},k=a(6),S=a(100),D=a.n(S),x=a(28),A=a(24),P=a.n(A),T=function(e){e?P.a.defaults.headers.common.Authorization=e:delete P.a.defaults.headers.common.Authorization},R=a(125),N=a.n(R),I=function(e){return{type:"SET_CURRENT_USER",payload:e}},_=function(){return function(e){localStorage.removeItem("jwtToken"),T(!1),e(I({})),window.location.reload()}},F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).dialogClose=function(){a.setState({openDialog:!1})},a.onChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};a.props.loginUser(t)},a.state={email:"",password:"",errors:{},openDialog:!1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/store")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/store"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.errors;return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,null),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},r.a.createElement(f.a,{className:e.paper},r.a.createElement(m.b,{to:"/",className:e.backBtn},r.a.createElement(v.a,null)),r.a.createElement("img",{src:D.a,alt:"Logo",className:e.heroLogo}),r.a.createElement("p",null,"Don't have an account?"," ",r.a.createElement(m.b,{to:"/Register",className:e.green},"Register")),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:this.onSubmit},r.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(E.a,{autoFocus:!0,autoComplete:"email",type:"email",name:"email",id:"email",label:"Email",helperText:t.email||t.emailnotfound,onChange:this.onChange,value:this.state.email,error:!!t.email})),r.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(E.a,{autoComplete:"current-password",id:"password",label:"Password",name:"password",type:"password",helperText:t.password||t.passwordincorrect,onChange:this.onChange,value:this.state.password,error:!(!t.password&&!t.passwordincorrect)})),r.a.createElement(O.a,{fullWidth:!0,className:e.submit,variant:"contained",type:"submit",color:"primary"},"Sign in"))))))}}]),t}(n.Component),M=Object(x.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){P.a.post("/api/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),T(a);var n=N()(a);t(I(n))})).catch((function(e){return t({type:"GET_ERRORS",payload:e.response.data})}))}}})(Object(k.a)(w)(Object(h.g)(F))),L=a(447),B=a(448),q=a(449),U=a(450),z=a(451),W=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{open:this.props.openDialog,onClose:this.props.dialogClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(B.a,{id:"alert-dialog-title"},"Erorr!"),r.a.createElement(q.a,null,r.a.createElement(U.a,{id:"alert-dialog-description"},this.props.error.email,"\n",this.props.error.emailnotfound,"\n",this.props.error.password,"\n",this.props.error.passwordincorrect,"\n")),r.a.createElement(z.a,null,r.a.createElement(O.a,{onClick:this.props.dialogClose,color:"primary",autoFocus:!0},"OK"))))}}]),t}(n.Component),V=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).dialogPromptOpen=function(t){e.setState({openDialog:!0,errors:t})},e.dialogClose=function(){e.setState({openDialog:!1})},e.onChange=function(t){e.setState(Object(d.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2,telephone:e.state.telephone,address:e.state.address};e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",telephone:"",address:"",errors:{},openDialog:!1},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.errors;return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,null),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.container},r.a.createElement(f.a,{className:e.paper},r.a.createElement(m.b,{to:"/",className:e.backBtn},r.a.createElement(v.a,null)),r.a.createElement("img",{src:D.a,alt:"Logo",className:e.heroLogo}),r.a.createElement("p",null,"Already have an account?"," ",r.a.createElement(m.b,{to:"/login",className:e.green},"Log in")),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(E.a,{autoFocus:!0,autoComplete:"name",name:"name",label:"Name",id:"name",type:"text",helperText:t.name,onChange:this.onChange,value:this.state.name,error:!!t.name})),r.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(E.a,{autoFocus:!0,autoComplete:"email",name:"email",label:"Email",id:"email",type:"email",helperText:t.email,onChange:this.onChange,value:this.state.email,error:!!t.email})),r.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(E.a,{autoFocus:!0,autoComplete:"telephone",name:"telephone",label:"Telephone",id:"telephone",type:"number",helperText:t.telephone,onChange:this.onChange,value:this.state.telephone,error:!!t.telephone})),r.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(E.a,{autoFocus:!0,autoComplete:"address",name:"address",label:"Address",id:"address",type:"text",helperText:t.address,onChange:this.onChange,value:this.state.address,error:!!t.address})),r.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(E.a,{autoFocus:!0,autoComplete:"password",name:"password",label:"Password",id:"password",type:"password",helperText:t.password,onChange:this.onChange,value:this.state.password,error:!!t.password})),r.a.createElement(b.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(E.a,{autoFocus:!0,autoComplete:"password",name:"password2",label:"Confirm Password",id:"password2",type:"password",helperText:t.password2,onChange:this.onChange,value:this.state.password2,error:!!t.password2})),r.a.createElement(O.a,{fullWidth:!0,className:e.submit,variant:"contained",type:"submit",color:"primary"},"Sign Up"))),r.a.createElement(W,{error:this.state.errors,openDialog:this.state.openDialog,dialogClose:this.dialogClose}))))}}]),t}(n.Component),G=Object(k.a)(w)(Object(x.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){P.a.post("/api/users/register",e).then((function(e){t.push("/login"),console.log("User has been registered!")})).catch((function(e){a({type:"GET_ERRORS",payload:e.response.data}),console.log("Error, this can only be atrributed to human error.")}))}}})(Object(h.g)(V))),Q=a(196),H=a(454),K=a(197),Y=a(453),$=a(124),J=a(195),X=a(135),Z=a.n(X),ee=a(137),te=a.n(ee),ae=a(136),ne=a.n(ae),re=a(171),oe=a.n(re),ie=a(172),le=a(232),ce=a.n(le),se=function(e){var t;return{layout:Object(d.a)({width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(1100+e.spacing(6)),{width:1100,marginLeft:"auto",marginRight:"auto"}),grow:{flexGrow:1},socialIcons:{margin:6.5},toolbarMain:{borderBottom:"1px solid ".concat(e.palette.grey[300])},toolbarTitle:{flexGrow:0,margin:10,width:60,height:60},toolbarSecondary:{justifyContent:"space-between"},heroLogo:(t={height:200},Object(d.a)(t,e.breakpoints.down("sm"),{height:120}),Object(d.a)(t,"width","auto"),Object(d.a)(t,"borderRadius",20),t),mainFeaturedPost:{backgroundImage:"url('"+ce.a+"')",backgroundSize:"cover",backgroundPosition:"center",color:e.palette.common.white,marginBottom:e.spacing(4)},mainFeaturedPostContent:Object(d.a)({padding:"".concat(e.spacing(6),"px")},e.breakpoints.up("md"),{paddingRight:0}),mainFeaturedPostContentText:Object(d.a)({},e.breakpoints.down("sm"),{fontSize:20}),mainGrid:{marginTop:e.spacing(3)},card:{display:"flex"},cardDetails:{flex:1},cardMedia:{width:160},markdown:{padding:"".concat(e.spacing(3),"px 0")},sidebarAboutBox:{padding:e.spacing(2),backgroundColor:e.palette.grey[200]},sidebarSection:{marginTop:e.spacing(3)},footer:{backgroundColor:e.palette.grey[200],marginTop:e.spacing(4),padding:"".concat(e.spacing(1),"px 0")},button:{marginLeft:10}}},ue=a(452),pe=a(41);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var he=a(307),ge={isAuthenticated:!1,user:{},loading:!1},fe={},be=a(111);function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ye={addedIds:[],quantityById:{}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye.addedIds,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":case"REMOVE_FROM_CART":return-1!==e.indexOf(t.productId)?e:[].concat(Object(be.a)(e),[t.productId]);case"REMOVE_PRODUCT_FROM_CART":var a=e.findIndex((function(e){return e.id===t._id}));return[].concat(Object(be.a)(e.slice(0,a)),Object(be.a)(e.slice(a+1)));case"CLEAR_CART":return ye.addedIds;default:return e}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye.quantityById,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var a=t.productId;return Oe({},e,Object(d.a)({},a,(e[a]||0)+1));case"REMOVE_FROM_CART":var n=t.productId;return Oe({},e,Object(d.a)({},n,(e[n]||0)-1));case"REMOVE_PRODUCT_FROM_CART":return delete e[t.product._id],e;case"CLEAR_CART":return ye.quantityById;default:return e}},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECKOUT_REQUEST":return ye;case"CHECKOUT_FAILURE":return t.cart;default:return{addedIds:ve(e.addedIds,t),quantityById:Ce(e.quantityById,t)}}};function we(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?we(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):we(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se=function(e,t){switch(t.type){case"ADD_TO_CART":return ke({},e,{inStock:e.inStock-1});case"REMOVE_FROM_CART":return ke({},e,{inStock:e.inStock+1});case"CLEAR_CART":default:return e}},De=Object(pe.c)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_PRODUCTS":return ke({},e,{},t.products.reduce((function(e,t){return e[t._id]=t,e}),{}));default:var a=t.productId;return a?ke({},e,Object(d.a)({},a,Se(e[a],t))):e}},visibleIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_PRODUCTS":return t.products.map((function(e){return e._id}));default:return e}}}),xe=function(e,t){return e.byId[t]},Ae=function(e){return e.visibleIds.map((function(t){return xe(e,t)}))};function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Te=Object(pe.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return me({},e,{isAuthenticated:!he(t.payload),user:t.payload});case"USER_LOADING":return me({},e,{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},cart:je,products:De}),Re=function(e){return function(e){return e.addedIds}(e.cart)},Ne=function(e,t){return function(e,t){return e.quantityById[t]||0}(e.cart,t)},Ie=function(e,t){return xe(e.products,t)},_e=function(e){return Re(e).reduce((function(t,a){return t+Ie(e,a).price*Ne(e,a)}),0).toFixed(2)},Fe=function(e){return Re(e).map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Ie(e,t),{quantity:Ne(e,t)})}))},Me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},a.itemsInCar=function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a].quantity;return t},a.handleMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=this.props.classes,a=Boolean(e),o="admin"===this.props.auth.user.type?r.a.createElement(m.b,{to:"/admin",style:{textDecoration:"none"}},r.a.createElement(J.a,null,"Admin Panel")):null,i=r.a.createElement($.a,{anchorEl:e,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:this.handleMenuClose},r.a.createElement(J.a,null,r.a.createElement("h5",null,this.props.auth.user.name+" ")),r.a.createElement(ue.a,null),r.a.createElement(m.b,{to:"/profile",style:{textDecoration:"none"}},r.a.createElement(J.a,{onClick:this.handleMenuClose},"Profile")),o,r.a.createElement(J.a,{onClick:this.onLogoutClick},"Log Out")),l=r.a.createElement(n.Fragment,null,r.a.createElement(Y.a,{badgeContent:this.props.products.length>0?this.props.products.reduce((function(e,t){return e+t.quantity}),0):0,color:"primary",classes:{badge:this.props.classes.badge}},r.a.createElement(ne.a,null)));return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{className:t.toolbarMain},r.a.createElement("a",{href:"https://www.facebook.com/laptopliquidations/",target:"blank"},r.a.createElement(oe.a,{className:t.socialIcons,path:ie.a,size:1.3,color:"grey"})),r.a.createElement("a",{href:"https://www.instagram.com/laptopliquidations/",target:"blank"},r.a.createElement(oe.a,{className:t.socialIcons,path:ie.b,size:1.3,color:"grey"})),r.a.createElement("div",{className:t.grow}),r.a.createElement(m.b,{to:"/",style:{textDecoration:"none"}},r.a.createElement(H.a,{alt:"Logo",src:Z.a,className:t.toolbarTitle})),r.a.createElement("div",{className:t.grow}),this.props.auth.isAuthenticated?r.a.createElement(n.Fragment,null,r.a.createElement(m.b,{to:"/cart",style:{textDecoration:"none"}},r.a.createElement(K.a,{"aria-label":"Cart"},l)),r.a.createElement(K.a,{"aria-owns":a?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenuOpen,color:"inherit"},r.a.createElement(te.a,null))):r.a.createElement(m.b,{to:"/login"},r.a.createElement(O.a,{key:"login",variant:"outlined",size:"small"},"Log In / Register"))),r.a.createElement("br",null),i)}}]),t}(n.Component),Le=Object(h.g)(Object(x.b)((function(e){return{auth:e.auth,products:Fe(e)}}),{logoutUser:_})(Object(k.a)(se)(Me))),Be=a(75),qe=a(455),Ue=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(f.a,{className:e.mainFeaturedPost},r.a.createElement(qe.a,{container:!0},r.a.createElement(qe.a,{item:!0,md:6},r.a.createElement("div",{className:e.mainFeaturedPostContent},r.a.createElement("img",{src:D.a,alt:"Logo",className:e.heroLogo}),r.a.createElement(Be.a,{variant:"h5",color:"inherit",paragraph:!0,className:e.mainFeaturedPostContentText},"Affordable starter laptops for sale in the Tampa Bay Area")))))}}]),t}(n.Component),ze=Object(k.a)(se)(Ue),We=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement("footer",{className:e.footer},r.a.createElement("center",null,r.a.createElement(H.a,{alt:"Logo",src:Z.a,className:e.toolbarTitle}))))}}]),t}(n.Component),Ve=Object(k.a)(se)(We),Ge=a(456),Qe=a(459),He=a(458),Ke=a(457),Ye=a(198),$e=a(466),Je=a(233),Xe=a.n(Je),Ze=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement($e.a,{key:this.props.msg.key,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.props.open,autoHideDuration:6e3,onClose:this.props.handleClose,onExited:this.props.handleExited,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"a"===this.props.msg.c?"Added to cart: ":"Removed from cart: ",this.props.msg.message),action:[r.a.createElement(K.a,{key:"close","aria-label":"Close",color:"inherit",className:e.close,onClick:this.props.handleClose},r.a.createElement(Xe.a,null))]}))}}]),t}(r.a.Component),et=Object(k.a)((function(e){return{close:{padding:e.spacing(.5)}}}))(Ze),tt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{open:this.props.openAlert,onClose:this.props.handleCloseAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(B.a,{id:"alert-dialog-title"},this.props.alertTitle),r.a.createElement(q.a,null,r.a.createElement(U.a,{id:"alert-dialog-description"},this.props.alertMessage)),r.a.createElement(z.a,null,r.a.createElement(O.a,{onClick:this.props.handleCloseAlert,color:"primary",autoFocus:!0},"Ok"))))}}]),t}(r.a.Component),at=function(e){return{layout:Object(d.a)({width:"auto"},e.breakpoints.up(1100+2*e.spacing(3)),{width:1100,marginLeft:"auto",marginRight:"auto"}),cardGrid:{padding:"".concat(e.spacing(8),"px 0")},card:{marginLeft:"auto",marginRight:"auto",height:"100%",maxWidth:350,display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"100%"},cardContent:{flexGrow:1,paddingTop:10,paddingBottom:0,paddingLeft:25,paddingRight:25},CardActions:{},button:{margin:e.spacing(),marginLeft:"auto",marginRight:"auto"},center:{marginLeft:"auto",marginRight:"auto"}}},nt=a(72),rt=a.n(nt),ot=function(e){return function(t,a){a().products.byId[e].inStock>0?t(function(e){return{type:"ADD_TO_CART",productId:e}}(e)):alert("No more inventory :(")}},it=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).queue=[],a.state={notif:!1,messageInfo:{},loading:!0,openAlert:!1,alertMessage:"",alertTitle:""},a.addCart=function(e){a.props.user.isAuthenticated?(a.handleClick(e.title,"a"),a.props.addToCart(e._id)):(a.setState({openAlert:!0,alertMessage:"Para poder comprar se necesita crear una cuenta!",alertTitle:"Error"}),window.location.href="./register")},a.handleClick=function(e,t){a.queue.push({message:e,c:t,key:(new Date).getTime()}),a.state.notif?a.setState({notif:!1}):a.processQueue()},a.processQueue=function(){a.queue.length>0&&a.setState({messageInfo:a.queue.shift(),notif:!0})},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({notif:!1})},a.handleExited=function(){a.processQueue()},a.handleCloseAlert=function(){a.setState({openAlert:!1})},a.componentDidMount=function(){a.props.products.length>0&&a.setState({loading:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){e.products!==this.props.products&&this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.loading?r.a.createElement(Ye.a,{disableShrink:!0,className:t.center}):this.props.products&&this.props.products.map((function(a){return r.a.createElement(qe.a,{item:!0,key:a._id,xs:12,sm:6,md:4,lg:3},r.a.createElement(Ge.a,{className:t.card},r.a.createElement(Ke.a,{className:t.cardMedia,image:a.image,title:a.title}),r.a.createElement(He.a,{className:t.cardContent},r.a.createElement(Be.a,{variant:"h5",className:t.button},a.title),r.a.createElement(Be.a,{className:t.pos,color:"textSecondary"},a.description)),r.a.createElement(Qe.a,{className:t.CardActions},r.a.createElement(O.a,{variant:"contained",color:"primary",className:t.button,onClick:e.addCart.bind(e,a),disabled:!(a.inStock>0)},r.a.createElement(ne.a,null)),r.a.createElement(Be.a,{variant:"h6",color:"textSecondary",className:t.button},a.inStock>0?"$".concat(a.price," USD"):"Out of Stock"))))}));return r.a.createElement("div",{className:rt()(t.layout,t.cardGrid)},r.a.createElement(qe.a,{container:!0},a),r.a.createElement(et,{msg:this.state.messageInfo,open:this.state.notif,handleClose:this.handleClose,handleExited:this.handleExited}),r.a.createElement(tt,{openAlert:this.state.openAlert,alertMessage:this.state.alertMessage,alertTitle:this.state.alertTitle,handleCloseAlert:this.handleCloseAlert}))}}]),t}(n.Component),lt=Object(x.b)((function(e){return{products:Ae(e.products)}}),{addToCart:ot})(Object(k.a)(at,{withTheme:!0})(it)),ct=a(84),st=a.n(ct),ut=[{title:"Order ID",field:"_id"},{title:"Address",field:"address"},{title:"Total",field:"total",type:"numeric"},{title:"Paypal ID",field:"paypalId"},{title:"Status",field:"Status",hidden:!0},{title:"Date",field:"date",type:"date"}],pt=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={ordersData:[]},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.post("/api/orders/ids",{OrderIds:this.props.user.orders}).then((function(t){e.setState({ordersData:t.data})}))}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(Ge.a,{className:e.card},r.a.createElement(He.a,null,r.a.createElement(Be.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Account profile"),r.a.createElement(Be.a,{variant:"h5",component:"h2"},"Name: "+this.props.user.name),r.a.createElement(Be.a,{className:e.pos,color:"textSecondary"},r.a.createElement("br",null),"Email: "+this.props.user.email," ",r.a.createElement("br",null)),r.a.createElement(Be.a,{className:e.pos,color:"textSecondary"},"Address: "+this.props.user.address," ",r.a.createElement("br",null)),r.a.createElement(Be.a,{className:e.pos,color:"textSecondary"},"Phone number: "+this.props.user.telephone),r.a.createElement(st.a,{columns:ut,data:this.state.ordersData,title:"Orders",detailPanel:[{tooltip:"Order Details",render:function(e){return r.a.createElement("div",{style:{fontSize:16,marginLeft:20}},e.products.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("br",null),r.a.createElement(Be.a,{color:"textSecondary"},"Product: "+e.title," ",r.a.createElement("br",null)),r.a.createElement(Be.a,{color:"textSecondary"},"Quantity: "+e.quantity),r.a.createElement("hr",null),r.a.createElement("br",null))})))}}],options:{actionsColumnIndex:-1,pageSize:5,doubleHorizontalScroll:!1,columnsButton:!0,exportButton:!0}}))))}}]),t}(n.Component),dt=Object(k.a)((function(e){return{root:{flexGrow:1},card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}}))(pt),mt=a(222),ht=a(461),gt=a(241),ft=a.n(gt),bt=a(242),Et=a.n(bt),Ot=a(240),yt=a.n(Ot),vt=a(238),Ct=a.n(vt),jt=[a(239).a],wt=Object(pe.e)(Te,{},Object(pe.d)(pe.a.apply(void 0,jt))),kt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).queue=[],a.state={notif:!1,messageInfo:{},openAlert:!1,alertMessage:"",alertTitle:""},a.addCart=function(e){a.handleClick(e.title,"a"),a.props.addToCart(e._id)},a.removeProduct=function(e){a.handleClick(e.title,"r"),a.props.removeProductFromCart(e)},a.removeCart=function(e){a.handleClick(e.title,"r"),a.props.removeFromCart(e._id)},a.handleClick=function(e,t){a.queue.push({message:e,c:t,key:(new Date).getTime()}),a.state.notif?a.setState({notif:!1}):a.processQueue()},a.processQueue=function(){a.queue.length>0&&a.setState({messageInfo:a.queue.shift(),notif:!0})},a.handleClose=function(e,t){"clickaway"!==t&&a.setState({notif:!1})},a.handleExited=function(){a.processQueue()},a.handleCloseAlert=function(){a.setState({openAlert:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.props.cartProducts.length>0?this.props.cartProducts.map((function(a){return r.a.createElement(qe.a,{item:!0,key:a._id,xs:12,md:6},r.a.createElement(Ge.a,{className:t.card},r.a.createElement("div",{className:t.cardDetails},r.a.createElement(He.a,null,r.a.createElement(ht.a,{size:"small",color:"primary","aria-label":"Add",className:t.cancel,onClick:e.removeProduct.bind(e,a)},r.a.createElement(yt.a,null)),r.a.createElement("br",null),r.a.createElement(Be.a,{component:"h2",variant:"h5"},a.title),r.a.createElement(Be.a,{variant:"subtitle1",color:"primary"},"$",a.price,a.quantity?" x ".concat(a.quantity):null),r.a.createElement(O.a,{variant:"contained",className:t.button,onClick:e.addCart.bind(e,a)},r.a.createElement(ft.a,null)),r.a.createElement(O.a,{variant:"contained",className:t.button,onClick:e.removeCart.bind(e,a),disabled:!(a.quantity>0)},r.a.createElement(Et.a,null)))),r.a.createElement(mt.a,{xsDown:!0},r.a.createElement(Ke.a,{className:t.cardMedia,image:a.image,title:a.title}))))})):r.a.createElement(qe.a,{item:!0,xs:12,md:12},r.a.createElement(Be.a,{variant:"subtitle1",color:"primary"},"Please add some products to cart."));return r.a.createElement(n.Fragment,null,r.a.createElement(Be.a,{component:"h2",variant:"h5"},"Your Cart"),r.a.createElement("br",null),r.a.createElement(qe.a,{container:!0},r.a.createElement(qe.a,{item:!0,xs:12},r.a.createElement(O.a,{variant:"outlined",color:"primary",onClick:this.props.clearCart},"Clear Cart")),a,r.a.createElement("br",null),r.a.createElement(qe.a,{item:!0,xs:12,md:8,sm:8,lg:8}),r.a.createElement(qe.a,{item:!0,xs:12,md:4,sm:4,lg:4},r.a.createElement(Be.a,{variant:"h4",color:"primary",className:t.button},"Total: $",this.props.total),r.a.createElement(Ct.a,{env:"sandbox",client:{sandbox:"AY5VXbP0qWLY6Kbmnt8aBxkdv6PmFLv6jccw6nGBgrMKLpSCMvdL-6mO26nim91fNIE1Fw_9jt2wVfvq",production:""},currency:"USD",total:parseFloat(this.props.total),onError:function(t){console.log("Error!",t),e.setState({openAlert:!0,alertMessage:"Error, please make a new request",alertTitle:"Error"})},onSuccess:function(t){console.log("Payment successful!",t),P.a.post("/api/orders",{username:e.props.user.id,userEmail:e.props.user.email,address:e.props.user.address,products:e.props.cartProducts,total:e.props.total,paypalId:t.paymentID}).then((function(t){var a=e.props.user.orders;if(a.push(t.data._id),P.a.put("/api/users/order",{_id:e.props.user.id,orders:a}),localStorage.jwtToken){var n=e.props.user;wt.dispatch(I(n))}t.data.products.forEach((function(e){console.log(e),P.a.put("/api/products/updateStockBought/".concat(e._id),{_id:e._id,inStock:e.inStock-e.quantity,numBought:e.numBought+e.quantity}).catch((function(e){console.log(e.response)}))}))})).catch((function(t){console.log(t.response),e.setState({openAlert:!0,alertMessage:"Error could save user order",alertTitle:"Error"})})),e.props.clearCart()},onCancel:function(t){console.log("Payment cancelled!",t),e.setState({openAlert:!0,alertMessage:"Your payment was cancelled and the item is back in inventory",alertTitle:"Error"})}}))),r.a.createElement(et,{msg:this.state.messageInfo,open:this.state.notif,handleClose:this.handleClose,handleExited:this.handleExited}),r.a.createElement(tt,{openAlert:this.state.openAlert,alertMessage:this.state.alertMessage,alertTitle:this.state.alertTitle,handleCloseAlert:this.handleCloseAlert}))}}]),t}(n.Component),St=Object(x.b)((function(e){return{cartProducts:Fe(e),storeProducts:Ae(e.products),total:_e(e)}}),{checkout:function(e){return function(e,t){}},addToCart:ot,removeFromCart:function(e){return function(t,a){t(function(e){return{type:"REMOVE_FROM_CART",productId:e}}(e))}},removeProductFromCart:function(e){return function(t,a){t(function(e){return{type:"REMOVE_PRODUCT_FROM_CART",product:e}}(e))}},clearCart:function(){return function(e,t){e({type:"CLEAR_CART"})}}})(Object(k.a)((function(e){return{card:{position:"relative",display:"flex"},cardDetails:{flex:1},cardMedia:{width:195},button:{margin:e.spacing(1.5)},cancel:{position:"absolute",right:15}}}),{withTheme:!0})(kt)),Dt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){a.props.auth.isAuthenticated&&a.props.history.push("/store")},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(g.a,null),r.a.createElement(Le,null),r.a.createElement("div",{className:t.layout},r.a.createElement(ze,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:function(){return r.a.createElement(lt,{user:e.props.auth})}}),r.a.createElement(h.b,{path:"/store",exact:!0,component:function(){return r.a.createElement(lt,{user:e.props.auth})}}),r.a.createElement(h.b,{path:"/cart",exact:!0,component:function(){return r.a.createElement(St,{user:e.props.auth.user})}}),r.a.createElement(h.b,{path:"/profile",exact:!0,component:function(){return r.a.createElement(dt,{user:e.props.auth.user})}}))),r.a.createElement(Ve,null))}}]),t}(n.Component),xt=Object(x.b)((function(e){return{auth:e.auth}}))(Object(k.a)((function(e){return{layout:Object(d.a)({width:"auto",marginLeft:e.spacing(3),marginRight:e.spacing(3)},e.breakpoints.up(11010+e.spacing(3*1.1)),{width:1100,marginLeft:"auto",marginRight:"auto"})}}))(Dt)),At=a(147),Pt=Object(x.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(At.a)(e,["component","auth"]);return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(h.a,{to:"/login"})}}))})),Tt=Object(x.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=Object(At.a)(e,["component","auth"]);return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated&&"admin"===a.user.type?r.a.createElement(t,e):r.a.createElement(h.a,{to:"/login"})}}))})),Rt=a(462),Nt=a(446),It=a(409),_t=a(463),Ft=a(214);function Mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mt(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Bt=function(e){return{root:{display:"flex",width:"100%"},appBar:{backgroundColor:"#388e3c",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(d.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(8)},e.breakpoints.up("sm"),{}),toolbar:Lt({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3),backgroundColor:"white"},grow:{flexGrow:1},sectionDesktop:{display:"flex"}}},qt=a(244),Ut=a.n(qt),zt=a(243),Wt=a.n(zt),Vt=a(245),Gt=a.n(Vt),Qt=a(246),Ht=a.n(Qt),Kt=a(247),Yt=a.n(Kt),$t=a(248),Jt=a.n($t),Xt=a(249),Zt=a.n(Xt),ea=a(250),ta=a.n(ea),aa=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t,a=this.props,n=a.classes,o=a.theme;return r.a.createElement("div",null,r.a.createElement(Rt.a,{variant:"permanent",className:rt()(n.drawer,(e={},Object(d.a)(e,n.drawerOpen,this.props.open),Object(d.a)(e,n.drawerClose,!this.props.open),e)),classes:{paper:rt()((t={},Object(d.a)(t,n.drawerOpen,this.props.open),Object(d.a)(t,n.drawerClose,!this.props.open),t))},open:this.props.open},r.a.createElement("div",{className:n.toolbar},r.a.createElement(K.a,{onClick:this.props.handleDrawerClose},"rtl"===o.direction?r.a.createElement(Wt.a,null):r.a.createElement(Ut.a,null))),r.a.createElement(ue.a,null),r.a.createElement(Nt.a,null,r.a.createElement(m.b,{to:"/store"},r.a.createElement(It.a,{button:!0,key:"Store"},r.a.createElement(_t.a,null,r.a.createElement(Gt.a,null)),r.a.createElement(Ft.a,{primary:"Store"}))),r.a.createElement(m.b,{to:"/admin/dashboard"},r.a.createElement(It.a,{button:!0,key:"Dashboard"},r.a.createElement(_t.a,null,r.a.createElement(Ht.a,null)),r.a.createElement(Ft.a,{primary:"Dashboard"}))),r.a.createElement(m.b,{to:"/admin/products"},r.a.createElement(It.a,{button:!0,key:"Products"},r.a.createElement(_t.a,null,r.a.createElement(Yt.a,null)),r.a.createElement(Ft.a,{primary:"Products"}))),r.a.createElement(m.b,{to:"/admin/orders"},r.a.createElement(It.a,{button:!0,key:"Orders"},r.a.createElement(_t.a,null,r.a.createElement(Jt.a,null)),r.a.createElement(Ft.a,{primary:"Orders"}))),r.a.createElement(m.b,{to:"/admin/users"},r.a.createElement(It.a,{button:!0,key:"Users"},r.a.createElement(_t.a,null,r.a.createElement(Zt.a,null)),r.a.createElement(Ft.a,{primary:"Users"})))),r.a.createElement(ue.a,null),r.a.createElement(Nt.a,null,r.a.createElement(It.a,{button:!0,key:"LogOut",onClick:this.props.handleLogOut},r.a.createElement(_t.a,null,r.a.createElement(ta.a,null)),r.a.createElement(Ft.a,{primary:"Log Out"})))))}}]),t}(n.Component),na=Object(k.a)(Bt,{withTheme:!0})(aa),ra=a(411),oa=a(103),ia=(a(217),a(144)),la=a.n(ia),ca=a(145),sa=a.n(ca);a(218);Object(oa.registerPlugin)(la.a,sa.a);function ua(e){return r.a.createElement(ra.a,Object.assign({direction:"up"},e))}var pa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",description:"",price:0,inStock:0,numBought:0,image:null,photos:[]},a.handleChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.value))}},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("image",a.state.image[0]),P.a.post("/api/upload",t).then((function(e){console.log(e);var t={title:a.state.title,description:a.state.description,price:a.state.price,inStock:a.state.inStock,numBought:a.state.inStock,image:"/"+e.data.path,photos:a.state.photos};P.a.post("/api/products",t).then((function(e){a.props.handleReload(),a.props.handleCloseAdd()}))}))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{open:this.props.openAdd,TransitionComponent:ua,onClose:this.props.handleClickOpenAdd,"aria-labelledby":"AddProductDialog","aria-describedby":"AddProductDialogDescription"},r.a.createElement(B.a,{id:"AddProductDialog"},"Add to cart"),r.a.createElement(q.a,null,r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(E.a,{id:"ptitle",label:"Product Name",className:t.textField,value:this.state.title,onChange:this.handleChange("title"),margin:"normal",variant:"outlined",required:!0}),r.a.createElement(E.a,{id:"pprice",label:"Price",value:this.state.price,onChange:this.handleChange("price"),type:"number",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined",required:!0}),r.a.createElement(E.a,{id:"pinStock",label:"In Stock",value:this.state.inStock,onChange:this.handleChange("inStock"),type:"number",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined",required:!0}),r.a.createElement(E.a,{id:"pdescription",label:"Description",fullWidth:!0,multiline:!0,rowsMax:"4",rows:"4",value:this.state.description,onChange:this.handleChange("description"),className:t.textField,margin:"normal",variant:"outlined",required:!0})),r.a.createElement(qe.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(qe.a,{item:!0,xs:12,sm:6},r.a.createElement(Be.a,{variant:"h6",gutterBottom:!0},"First image"),r.a.createElement(oa.FilePond,{ref:function(t){return e.pond=t},files:this.state.image,allowMultiple:!0,maxFiles:1,onupdatefiles:function(t){e.setState({image:t.map((function(e){return e.file}))})},name:"image",labelIdle:'Drag & Drop your file or <span class="filepond--label-action">Browse</span>'})))),r.a.createElement(z.a,null,r.a.createElement(O.a,{onClick:this.props.handleCloseAdd,color:"primary"},"Cancel"),r.a.createElement(O.a,{onClick:this.handleSubmit,color:"primary"},"Add to"))))}}]),t}(r.a.Component),da=Object(k.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(),marginRight:e.spacing()},dense:{marginTop:16},menu:{width:200}}}))(pa);Object(oa.registerPlugin)(la.a,sa.a);function ma(e){return r.a.createElement(ra.a,Object.assign({direction:"up"},e))}var ha=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={_id:"",title:"",description:"",price:0,inStock:0,numBought:0,image:null,photos:[]},a.handleChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.value))}},a.handleSubmit=function(e){e.preventDefault();var t=new FormData;t.append("image",a.state.image[0]),P.a.post("/api/upload",t).then((function(e){var t={_id:a.state._id,title:a.state.title,description:a.state.description,price:a.state.price,inStock:a.state.inStock,numBought:a.state.inStock,image:"/"+e.data.path,photos:a.state.photos};P.a.put("/api/products/".concat(a.props.product._id),t).then((function(e){a.props.handleReload(),a.props.handleCloseEdit()}))}))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.product!==this.props.product&&this.setState({_id:this.props.product._id,title:this.props.product.title,description:this.props.product.description,price:this.props.product.price,inStock:this.props.product.inStock,numBought:this.props.product.numBought,image:this.props.product.image,photos:this.props.product.photos})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{open:this.props.openEdit,TransitionComponent:ma,onClose:this.handleCloseEdit,"aria-labelledby":"EditProductDialog"},r.a.createElement(B.a,{id:"EditProductDialog"},"To edit a product"),r.a.createElement(q.a,null,r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(E.a,{id:"ptitle",label:"Product Name",className:t.textField,value:this.state.title,onChange:this.handleChange("title"),margin:"normal",variant:"outlined",required:!0}),r.a.createElement(E.a,{id:"pprice",label:"Price",value:this.state.price,onChange:this.handleChange("price"),type:"number",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined",required:!0}),r.a.createElement(E.a,{id:"pinStock",label:"In Stock",value:this.state.inStock,onChange:this.handleChange("inStock"),type:"number",className:t.textField,InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined",required:!0}),r.a.createElement(E.a,{id:"pdescription",label:"Description",fullWidth:!0,multiline:!0,rowsMax:"4",rows:"4",value:this.state.description,onChange:this.handleChange("description"),className:t.textField,margin:"normal",variant:"outlined",required:!0})),r.a.createElement(qe.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(qe.a,{item:!0,xs:12,sm:6},r.a.createElement(Be.a,{variant:"h6",gutterBottom:!0},"Imagen Principal"),r.a.createElement(oa.FilePond,{ref:function(t){return e.pond=t},files:this.state.image,allowMultiple:!0,maxFiles:1,onupdatefiles:function(t){e.setState({image:t.map((function(e){return e.file}))})},labelIdle:'Drag & Drop your file or <span class="filepond--label-action">Browse</span>'})))),r.a.createElement(z.a,null,r.a.createElement(O.a,{onClick:this.props.handleCloseEdit,color:"primary"},"Cancelar"),r.a.createElement(O.a,{onClick:this.handleSubmit,color:"primary"},"Actualizar"))))}}]),t}(r.a.Component),ga=Object(k.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(),marginRight:e.spacing()},dense:{marginTop:16},menu:{width:200}}}))(ha);function fa(e){return r.a.createElement(ra.a,Object.assign({direction:"up"},e))}var ba=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){return function(t){a.setState(Object(d.a)({},e,t.target.value))}},a.handleSubmit=function(e){e.preventDefault();var t={_id:a.props.product._id};P.a.delete("/api/products/".concat(a.props.product._id),{data:t}).then((function(e){a.props.handleReload(),a.props.handleCloseDelete()}))},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{open:this.props.openDelete,TransitionComponent:fa,onClose:this.props.handleCloseDelete,"aria-labelledby":"DeleteProductDialog"},r.a.createElement(B.a,{id:"DeleteProductDialog"},"Borrar Producto"),r.a.createElement(q.a,null,this.props.product?r.a.createElement(n.Fragment,null,"Borrar Producto: "+this.props.product.title,r.a.createElement("br",null),"ID: "+this.props.product._id):"Delete"),r.a.createElement(z.a,null,r.a.createElement(O.a,{onClick:this.props.handleCloseDelete,color:"primary"},"Cancelar"),r.a.createElement(O.a,{onClick:this.handleSubmit,color:"primary"},"Confirmar"))))}}]),t}(r.a.Component),Ea=[{title:"ID",field:"_id",hidden:!0},{title:"Image",field:"image",render:function(e){return r.a.createElement("img",{style:{height:45,width:45,borderRadius:"50%"},src:e.image,alt:"Imagen Principal"})}},{title:"Title",field:"title"},{title:"Description",field:"description"},{title:"Price",field:"price",type:"numeric"},{title:"Stock",field:"inStock",type:"numeric"},{title:"Bought",field:"numBought",type:"numeric"},{title:"Photos",field:"photos",hidden:!0}],Oa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={product:null,openEdit:!1,openDelete:!1,openAdd:!1,openAlert:!1,alertMessage:"",alertTitle:""},a.editDialog=function(e){a.setState({openEdit:!0,product:e})},a.deleteDialog=function(e){a.setState({openDelete:!0,product:e})},a.handleClickOpenAdd=function(){a.setState({openAdd:!0})},a.handleCloseAdd=function(){a.setState({openAdd:!1})},a.handleClickOpenEdit=function(){a.setState({openEdit:!0})},a.handleCloseEdit=function(){a.setState({openEdit:!1})},a.handleClickOpenDelete=function(){a.setState({openDelete:!0})},a.handleCloseDelete=function(){a.setState({openDelete:!1})},a.handleReload=function(){P.a.get("/api/products").then((function(e){var t=e.data;a.setState({productsData:t})})).catch((function(e){a.setState({openAlert:!0,alertMessage:"Error could not fetch Products",alertTitle:"Error"})}))},a.handleCloseAlert=function(){a.setState({openAlert:!1})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.handleReload()}},{key:"render",value:function(){var e=this,t=this.props,a=t.sizeNum,o=t.classes,i=[{icon:"edit",tooltip:"Edit Product Info",onClick:function(t,a){e.editDialog(a)},iconProps:{style:{fontSize:30,color:"grey"}}},{icon:"delete",tooltip:"Delete product",onClick:function(t,a){e.deleteDialog(a)},iconProps:{style:{fontSize:30,color:"red"}}}];return r.a.createElement(n.Fragment,null,this.props.hideAdd?r.a.createElement(n.Fragment,null):r.a.createElement(O.a,{variant:"outlined",color:"primary",onClick:this.handleClickOpenAdd,className:o.button},"Agregar Producto"),r.a.createElement(O.a,{variant:"outlined",color:"primary",onClick:this.handleReload,className:o.button},"Refresh"),r.a.createElement(st.a,{columns:Ea,data:this.state.productsData,title:"Products",actions:this.props.actions?i:null,detailPanel:[{tooltip:"Image",render:function(e){return r.a.createElement("div",{style:{fontSize:100,textAlign:"center",color:"white",backgroundColor:"#43A047"}},r.a.createElement("img",{style:{height:200,width:"auto"},src:e.image,alt:"Imagen Principal"}))}}],options:{actionsColumnIndex:-1,pageSize:a,doubleHorizontalScroll:!1,columnsButton:!0,exportButton:!0}}),r.a.createElement(da,{openAdd:this.state.openAdd,handleClickOpenAdd:this.handleClickOpenAdd,handleCloseAdd:this.handleCloseAdd,handleReload:this.handleReload}),r.a.createElement(ga,{openEdit:this.state.openEdit,product:this.state.product,handleClickOpenEdit:this.handleClickOpenEdit,handleCloseEdit:this.handleCloseEdit,handleReload:this.handleReload}),r.a.createElement(ba,{openDelete:this.state.openDelete,product:this.state.product,handleClickOpenDelete:this.handleClickOpenDelete,handleCloseDelete:this.handleCloseDelete,handleReload:this.handleReload}),r.a.createElement(tt,{openAlert:this.state.openAlert,alertMessage:this.state.alertMessage,alertTitle:this.state.alertTitle,handleCloseAlert:this.handleCloseAlert}))}}]),t}(n.Component),ya=Object(k.a)((function(e){return{button:{margin:10}}}))(Oa),va=[{title:"Order ID",field:"_id"},{title:"ClientID",field:"username",hidden:!0},{title:"Client",field:"userEmail"},{title:"Address",field:"address"},{title:"Total",field:"total"},{title:"PayPal ID",field:"paypalId"},{title:"Status",field:"Status",hidden:!0},{title:"Date",field:"date"}],Ca=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleCloseAlert=function(){e.setState({openAlert:!1})},e.state={ordersData:[],openAlert:!1,alertMessage:"",alertTitle:""},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/orders").then((function(t){var a=t.data;e.setState({ordersData:a})})).catch((function(t){e.setState({openAlert:!0,alertMessage:"Error could not fetch Orders",alertTitle:"Error"})}))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(st.a,{columns:va,data:this.state.ordersData,title:"Orders",detailPanel:[{tooltip:"Order Details",render:function(e){return r.a.createElement("div",{style:{fontSize:16,marginLeft:20}},e.products.map((function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("br",null),r.a.createElement(Be.a,{color:"textSecondary"},"Product: "+e.title," ",r.a.createElement("br",null)),r.a.createElement(Be.a,{color:"textSecondary"},"Quantity: "+e.quantity),r.a.createElement("hr",null),r.a.createElement("br",null))})))}}],options:{actionsColumnIndex:-1,pageSize:15,doubleHorizontalScroll:!1,columnsButton:!0,exportButton:!0}}),r.a.createElement(tt,{openAlert:this.state.openAlert,alertMessage:this.state.alertMessage,alertTitle:this.state.alertTitle,handleCloseAlert:this.handleCloseAlert}))}}]),t}(n.Component),ja=[{title:"Name",field:"name"},{title:"Surename",field:"surname"},{title:"Email",field:"email"},{title:"Telephone",field:"telephone",type:"numeric"},{title:"Address",field:"address"}],wa=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleCloseAlert=function(){e.setState({openAlert:!1})},e.state={usersData:[],openAlert:!1,alertMessage:"",alertTitle:""},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("/api/users").then((function(t){var a=t.data;e.setState({usersData:a})})).catch((function(t){e.setState({openAlert:!0,alertMessage:"Error could not fetch Users",alertTitle:"Error"})}))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(st.a,{columns:ja,data:this.state.usersData,title:"Users",options:{columnsButton:!0,exportButton:!0}}),r.a.createElement(tt,{openAlert:this.state.openAlert,alertMessage:this.state.alertMessage,alertTitle:this.state.alertTitle,handleCloseAlert:this.handleCloseAlert}))}}]),t}(n.Component),ka=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(Be.a,{variant:"h4",gutterBottom:!0},this.props.url),function(){switch(e.props.url){case"Dashboard":return r.a.createElement(n.Fragment,null,r.a.createElement(wa,null),r.a.createElement("br",null),r.a.createElement(ya,{sizeNum:5,actions:!1,hideAdd:!0}));case"Products":return r.a.createElement(n.Fragment,null,r.a.createElement(ya,{sizeNum:10,actions:!0,hideAdd:!1}));case"Orders":return r.a.createElement(n.Fragment,null,r.a.createElement(Ca,null));case"Users":return r.a.createElement(wa,null);default:return null}}())}}]),t}(n.Component),Sa=Object(k.a)(Bt,{withTheme:!0})(ka),Da=a(464),xa=a(251),Aa=a.n(xa),Pa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:a.props.open,anchorEl:null},a.onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a.handleProfileMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.anchorEl,t=this.props.classes,a=Boolean(e),n=r.a.createElement($.a,{anchorEl:e,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:this.handleMenuClose},r.a.createElement(m.b,{to:"/store",style:{textDecoration:"none"}},r.a.createElement(J.a,{onClick:this.handleMenuClose},"Store")),r.a.createElement(J.a,{onClick:this.onLogoutClick},"Log Out"));return r.a.createElement("div",{className:t.root},r.a.createElement(g.a,null),r.a.createElement(Da.a,{position:"fixed",className:rt()(t.appBar,Object(d.a)({},t.appBarShift,this.state.open))},r.a.createElement(Q.a,{disableGutters:!this.state.open},r.a.createElement(K.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:rt()(t.menuButton,Object(d.a)({},t.hide,this.state.open))},r.a.createElement(Aa.a,null)),r.a.createElement(Be.a,{variant:"h6",color:"inherit",noWrap:!0},"LaptopLiquidations"),r.a.createElement("div",{className:t.grow}),r.a.createElement("div",{className:t.sectionDesktop},r.a.createElement(K.a,{"aria-owns":a?"material-appbar":void 0,"aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},r.a.createElement(te.a,null))))),n,r.a.createElement(na,{handleLogOut:this.onLogoutClick,open:this.state.open,handleDrawerClose:this.handleDrawerClose,handleDrawerOpen:this.handleDrawerOpen}),r.a.createElement(Sa,{url:this.props.url}))}}]),t}(n.Component),Ta=Object(h.g)(Object(x.b)((function(e){return{auth:e.auth}}),{logoutUser:_})(Object(k.a)(Bt,{withTheme:!0})(Pa))),Ra=a(252),Na=a(465);if(localStorage.jwtToken){var Ia=localStorage.jwtToken;T(Ia);var _a=N()(Ia);wt.dispatch(I(_a));var Fa=Date.now()/1e3;_a.exp<Fa&&(wt.dispatch(_()),window.location.href="./login")}wt.dispatch((function(e){P.a.get("/api/products").then((function(t){e({type:"RECEIVE_PRODUCTS",products:t.data})})).catch((function(e){console.log("Could not fetch Products")}))}));var Ma=Object(Ra.a)({palette:{primary:{main:"#388e3c"}},typography:{useNextVariants:!0}}),La=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(Na.a,{theme:Ma},r.a.createElement(x.a,{store:wt},r.a.createElement(m.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/register",component:G}),r.a.createElement(h.b,{exact:!0,path:"/login",component:M}),r.a.createElement(h.b,{exact:!0,path:"/",component:xt}),r.a.createElement(Pt,{exact:!0,path:"/store",component:xt}),r.a.createElement(Pt,{exact:!0,path:"/profile",component:xt}),r.a.createElement(Pt,{exact:!0,path:"/cart",component:xt}),r.a.createElement(Tt,{exact:!0,path:"/admin",component:function(){return r.a.createElement(Ta,{url:"Dashboard"})}}),r.a.createElement(Tt,{exact:!0,path:"/admin/dashboard",component:function(){return r.a.createElement(Ta,{url:"Dashboard"})}}),r.a.createElement(Tt,{exact:!0,path:"/admin/products",component:function(){return r.a.createElement(Ta,{url:"Products"})}}),r.a.createElement(Tt,{exact:!0,path:"/admin/orders",component:function(){return r.a.createElement(Ta,{url:"Orders"})}}),r.a.createElement(Tt,{exact:!0,path:"/admin/users",component:function(){return r.a.createElement(Ta,{url:"Users"})}})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(La,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[274,1,2]]]);
//# sourceMappingURL=main.ca799e60.chunk.js.map